class Account{constructor(e=0,t=""){this.username=t,this.defined=e}}function cl(e){}function ct(e){}function print(e){}function gebi(e){return document.getElementById(e)}function gesbcn(e){return document.getElementsByClassName(e)}function setls(e,t){localStorage.setItem(e,t)}function getls(e){return localStorage.getItem(e)}function removels(e){localStorage.removeItem(e)}function clearls(){localStorage.clear()}async function setCookie(e,t,n){var o=new Date,n=(o.setTime(o.getTime()+24*n*60*60*1e3),"expires="+o.toUTCString());document.cookie=e+"="+t+";"+n+";path=/"}function getCookie(e){var n=e+"=",o=document.cookie.split(";");for(let t=0;t<o.length;t++){let e=o[t];for(;" "==e.charAt(0);)e=e.substring(1);if(0==e.indexOf(n))return e.substring(n.length,e.length)}return""}function checkCookie(e){e=getCookie(e);return""!=e&&null!=e}async function removeAllCookie(){for(var e=document.cookie.split(";"),t=0;t<e.length;t++)setCookie(e[t].split("=")[0],"",-1)}function deleteCookie(e){setCookie(e,"",-1)}function randomIntFromInterval(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function decodeJWT(e){try{var t=decodeBase64(e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"));return JSON.parse(t)}catch(e){return null}}function decodeBase64(e){try{var t="=".repeat((4-e.length%4)%4),n=atob(e+t);return decodeURIComponent(Array.from(n).map(e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)).join(""))}catch(e){return null}}async function requestsAreComplete(e){return e.every(function(e){return 4==e.readyState})}function unsuccessfulRequests(e){e=e.filter(function(e){return 200!=e.status});return e.length?e:null}function onRequestsComplete(e,t){function n(){requestsAreComplete(e)&&t(e,unsuccessfulRequests(e))}e.forEach(function(e){e.onreadystatechange=n})}async function httpscheck(){"http:"==window.location.protocol&&(window.location.href=window.location.href.replace("http:","https:"))}async function aesEncr(){return res=await CryptoJS.AES.encrypt(plaintext,secretKey).toString()}async function aesDecr(){return res=await CryptoJS.AES.decrypt(ciphertext,secretKey).toString(CryptoJS.enc.Utf8)}async function desEncr(){return res=await CryptoJS.DES.encrypt(plaintext,secretKey).toString()}async function desDecr(){return res=await CryptoJS.DES.decrypt(ciphertext,secretKey).toString(CryptoJS.enc.Utf8)}async function seconEncryption(){secCookie=JSON.parse(getCookie("secCode"))}async function seconDecryption(){}async function cssMaker(e="",t="",n=""){return"d"==getCookie("theme")?e+t:"l"==getCookie("theme")?e+n:"s"==getCookie("theme")?e+"@media(prefers-color-scheme: dark) { "+t+" } @media (prefers-color-scheme: light) { "+n+" }":e}async function login(){}async function logout(){removeAllCookie(),window.location.href="/login"}async function securityLoad(){var e;"y"!=secon||checkCookie("secCode")&&getCookie("secCode")==getls("secCode")||(setCookie("secCode",(e=await fetch("/api/security/getSecCode").then(e=>e.json())).secCode,1),setls("secCode",e.secCode))}async function accoutCheck(){var e=await fetch("/api/account/getAccount").then(e=>e.json());p=(1==e.logged&&(glob_account.username=e.username),await accoutPrefrence())}async function accoutPrefrence(){if(!checkCookie("theme")||"d"==getCookie("theme")&&"l"==getCookie("theme")&&"s"==getCookie("theme"))return setCookie("theme","d",1),"d"}async function cookieCheck(){}async function metaCheck(){var e,t=await fetch("/api/meta/getIp").then(e=>e.json());(!checkCookie("ip")||checkCookie("ip")&&getCookie("ip")!=getls("ip")||checkCookie("ip")&&getCookie("ip")!=t.ip||!checkCookie("userdata")||getls("userdata")!=getCookie("userdata"))&&(t=await navigator.userAgentData.getHighEntropyValues(["platformVersion"]),(e=new URLSearchParams).append("ch-pf",t.platform),e.append("ch-pfv",t.platformVersion),t=await fetch("/api/meta/getMeta",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:e.toString()}).then(e=>e.json()),e=await fetch("https://ipwho.is/"+t.ip+"?fields=ip,message,success,type,continent,continent_code,country,country_code,region,region_code,city,latitude,longitude,postal,calling_code,calling_code,capital,borders,flag,connection.isp,connection.domain,timezone").then(e=>e.json()),alldata={userdata:t.user_data,ipdata:e},alldata=encodeURIComponent(JSON.stringify(alldata)),setCookie("ip",t.ip,1),setCookie("userdata",alldata,1),setls("ip",t.ip),setls("userdata",alldata))}async function pluginLoader(){return'<div id="top-loading-line"></div>'}async function preSetup(){var e=document.createElement("style"),e=(e.id="forContent",document.head.appendChild(e),gebi("style").innerHTML="",gebi("main").innerHTML=headhtml+'<div id="content"></div>'+foothtml,plugins=await pluginLoader(),gebi("plugins").innerHTML=plugins,document.createElement("style"));e.id="forContent",document.head.appendChild(e)}async function loadUrlData(){var e={};e.fu=window.location.href,e.pr=window.location.protocol,e.pr=e.pr.slice(0,-1),e.do=window.location.host,e.pa=window.location.pathname,e.paarr=window.location.pathname.split("/"),e.paarr.shift(),""!=e.paarr[0]&&""==e.paarr[e.paarr.length-1]&&e.paarr.pop(),e.qu=window.location.search;var t,n,o=[];for([t,n]of new URLSearchParams(e.qu))o[t]=n;return e.quarr=o,e}async function reqPageStat(a){xhr=new XMLHttpRequest,gebi("top-loading-line").style.width="30%",xhr.open("GET","/api/page/getPageStat/"+a,!0),xhr.onreadystatechange=async function(){4==this.readyState&&200==this.status&&(res=JSON.parse(this.responseText),gebi("top-loading-line").style.width="60%",gebi("head-title").innerHTML=decodeURIComponent(res.title)+" - "+sitename,gebi("head-description").content=decodeURIComponent(res.description),gebi("head-keywords").content=decodeURIComponent(res.keywords),gebi("top-loading-line").style.width="75%",gebi("content").innerHTML=decodeURIComponent(res.html),css=await cssMaker(decodeURIComponent(res.css),decodeURIComponent(res.cssd),decodeURIComponent(res.cssl)),gebi("forContent").innerHTML=decodeURIComponent(res.css),gebi("top-loading-line").style.width="90%",eval(decodeURIComponent(res.json)),gebi("top-loading-line").style.width="100%",glob_js_off=decodeURIComponent(res.jsoff),gebi("top-loading-line").style.width="0%")},xhr.setRequestHeader("Content-type","application/x-www-form-urlencoded"),gebi("top-loading-line").style.width="40%",xhr.send()}async function psi(e,t=sitename){window.history.pushState({id:"100"},t,e),loadPage()}async function routeaccept(e){}async function skeletonScrren(){gebi("content").innerHTML=skeletonhtml,skeletonCSS=await cssMaker(skeletonccss,skeletondcss,skeletonlcss),gebi("forContent").innerHTML=skeletonCSS}async function loadPage(){skeletonScrren(),ud=await loadUrlData(),ct(ud),gebi("top-loading-line").style.width="5%",eval(),gebi("top-loading-line").style.width="10%";const fixpages=["about","contact","privacy","terms","help","faq","support","sitemap","Services",""],accountPages=["login","signin","register","signup","logout","forgot","reset","verify","profile","settings","account",""];1!=ud.paarr.length||""!=ud.paarr[0]&&"home"!=ud.paarr[0]&&!fixpages.includes(ud.paarr[0])||(""==ud.paarr[0]&&(ud.paarr[0]="home"),gebi("top-loading-line").style.width="20%",reqPageStat(ud.paarr[0]))}async function app(){try{"y"==isssl&&await httpscheck(),await securityLoad(),await accoutCheck(),await cookieCheck(),await metaCheck(),await preSetup(),await loadPage()}catch(e){alert("Error: "+e)}}glob_account=new Account,glob_js_off="",window.onload=function(){app()};